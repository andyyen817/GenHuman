import{j as e,V as l,n as a,p as t,q as s,c as u,w as d,h as o,a as i,b as f,d as n,F as c,e as p,f as v,t as r,J as _,v as b,x as m,g as h,M as x,I as g,P as y}from"./index--fVdvEP2.js";import{_ as k}from"./y-footer.C63oHgTw.js";import{a as w,u as C}from"./app.CJj021oe.js";const V={__name:"copywriting",setup(V){const j=e(1),z=e({app_id:0}),D=e(""),O=e({points:0}),U=l((()=>0==O.value.points?"免费生成":"文案生成 消耗算力:"+O.value.points));a((e=>{e.id?q({id:e.id}):q({type:"oralCopy"})}));const q=e=>{w(e).then((e=>{O.value=e.data,O.value.tableData.forEach((e=>{"checkbox"==e.type?z.value[e.field]=[]:z.value[e.field]=""}))}))},B=()=>{O.value.id?(b({title:"生成中.."}),z.value.app_id=O.value.id,C(z.value).then((e=>{D.value=e.data,j.value=2}))):_.toast("应用不存在")},E=()=>{j.value=1,z.value={title:"",size:100}};return(e,l)=>{const a=h,_=y,b=o,w=t(s("y-footer"),k);return i(),u(b,{class:"p-12 pb-100"},{default:d((()=>[1==j.value?(i(),u(b,{key:0},{default:d((()=>[(i(!0),f(c,null,n(O.value.tableData,((e,l)=>(i(),f(c,null,["input"==e.type?(i(),u(b,{key:0,class:"bg-white p-15 round-8 mt-20"},{default:d((()=>[p(a,{class:"fw-600"},{default:d((()=>[v(r(e.field_title),1)])),_:2},1024),p(b,{class:"bg-fa round-6 mt-6 p-12"},{default:d((()=>[p(_,{placeholder:e.placeholder||"请输入",class:"fs-14",modelValue:z.value[e.field],"onUpdate:modelValue":l=>z.value[e.field]=l},null,8,["placeholder","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)):x("",!0),"radio"==e.type?(i(),u(b,{key:1,class:"bg-white p-15 round-8 mt-15"},{default:d((()=>[p(b,{class:"fs-15 ml-8"},{default:d((()=>[v(r(e.field_title),1)])),_:2},1024),(i(!0),f(c,null,n(e.option,((l,t)=>(i(),u(b,{class:g(["p-10 round-8 mt-6 bg-fa",z.value[e.field]==l.value?"bg-blue text-white":"bg-white"]),onClick:a=>z.value[e.field]=l.value},{default:d((()=>[p(a,null,{default:d((()=>[v(r(l.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:2},1024)):x("",!0),"checkbox"==e.type?(i(),u(b,{key:2,class:"bg-white p-15 round-8 mt-15"},{default:d((()=>[p(b,{class:"fs-15 ml-8"},{default:d((()=>[v(r(e.field_title),1)])),_:2},1024),(i(!0),f(c,null,n(e.option,((l,t)=>(i(),u(b,{class:g(["p-10 round-8 mt-6 bg-fa",-1!=z.value[e.field].indexOf(l.value)?"bg-blue text-white":"bg-white"]),onClick:a=>((e,l)=>{const a=z.value[l].indexOf(e.value);-1==a?z.value[l].push(e.value):z.value[l].splice(a,1)})(l,e.field)},{default:d((()=>[p(a,null,{default:d((()=>[v(r(l.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:2},1024)):x("",!0)],64)))),256)),p(w,{onSuccess:B,mode:""},{default:d((()=>[v(r(U.value),1)])),_:1})])),_:1})):(i(),u(b,{key:1,class:"bg-white round-8 p-10 fs-14"},{default:d((()=>[v(r(D.value)+" ",1),p(b,{class:"flex w-p-100 fs-13 gap-8 flex-x-flex-end mt-10"},{default:d((()=>[p(b,{class:"bg-29 flex flex-y-center px-12 py-4 gap-4 round-4",onClick:E},{default:d((()=>[p(a,{class:"iconfont icon-fanhui"}),v(" 重新生成 ")])),_:1}),p(b,{class:"bg-29 flex px-12 py-4 flex-y-center gap-4 round-4",onClick:l[0]||(l[0]=e=>{m({data:D.value})})},{default:d((()=>[p(a,{class:"iconfont icon-fuzhi-"}),v(" 复制文案 ")])),_:1})])),_:1})])),_:1}))])),_:1})}}};export{V as default};
