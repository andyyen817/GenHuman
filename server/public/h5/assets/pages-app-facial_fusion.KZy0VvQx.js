import{a as e,c as a,w as l,f as t,t as s,M as u,e as o,ac as n,O as d,v as i,N as p,A as f,a4 as c,g as r,h as m,i as _,j as v,V as h,n as V,p as y,q as x}from"./index-CjGKjdXG.js";import{_ as g}from"./y-footer.C0ly4R3m.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{a as k,u as j}from"./app.Bz-yDFPP.js";const w=b({__name:"uImage",props:{title:{type:String,default:""},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(v,{emit:h}){const V=v,y=h,x=()=>{d({count:1,success(e){i({title:"上传中..."}),p({filePath:e.tempFilePaths[0]}).then((e=>{y("update:modelValue",e.data.file_url)})).finally((()=>{f()}))}})},g=()=>{c({urls:[V.modelValue]})};return(d,i)=>{const p=r,f=m,c=_;return e(),a(f,{class:"bg-white round-8 p-15 mb-15"},{default:l((()=>[V.title?(e(),a(p,{key:0,class:"fs-15 fw-bold"},{default:l((()=>[t(s(V.title),1)])),_:1})):u("",!0),o(f,{class:"bg-fa round-8 flex flex-center w-p-100 h-180 relative mt-5"},{default:l((()=>[""==V.modelValue?(e(),a(f,{key:0,class:"flex flex-column gap-4 flex-y-center",onClick:x},{default:l((()=>[o(p,{class:"iconfont icon-shangchuanwenjian fs-30 text-666"}),n(d.$slots,"default",{},(()=>[o(p,{class:"fs-14"},{default:l((()=>[t("点击上传图片")])),_:1})]),!0)])),_:3})):(e(),a(c,{key:1,src:V.modelValue,class:"h-p-100 round-8",mode:"heightFix",onClick:g},null,8,["src"])),""!=V.modelValue?(e(),a(f,{key:2,class:"btn-blue absolute bottom-8",onClick:x},{default:l((()=>[t("重新上传")])),_:1})):u("",!0)])),_:3})])),_:3})}}},[["__scopeId","data-v-c01fd51f"]]),C={__name:"facial_fusion",setup(u){const n=v({app_id:0,face_url:"",template_url:""}),d=v({points:0}),p=h((()=>0==d.value.points?"免费生成":"文案生成 消耗算力:"+d.value.points));V((e=>{e.id?f({id:e.id}):f({type:"facialFusion"})}));const f=e=>{k(e).then((e=>{d.value=e.data,n.value.app_id=d.value.id}))},c=()=>{d.value.id?(i({title:"生成中.."}),n.value.app_id=d.value.id,j(n.value).then((e=>{}))):$tool.toast("应用不存在")};return(u,d)=>{const i=y(x("y-footer"),g),f=m;return e(),a(f,{class:"px-10 py-10 pb-100"},{default:l((()=>[o(w,{modelValue:n.value.face_url,"onUpdate:modelValue":d[0]||(d[0]=e=>n.value.face_url=e),title:"换脸主图"},null,8,["modelValue"]),o(w,{modelValue:n.value.template_url,"onUpdate:modelValue":d[1]||(d[1]=e=>n.value.template_url=e),title:"换脸模板图"},null,8,["modelValue"]),o(i,{onSuccess:c,mode:""},{default:l((()=>[t(s(p.value),1)])),_:1})])),_:1})}}};export{C as default};
