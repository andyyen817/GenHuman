import{j as a,V as o,n as e,p as t,q as s,c as l,w as p,h as u,a as r,e as i,f as d,t as n,J as m,v,$ as _}from"./index-typXh9T4.js";import{_ as f}from"./y-footer.CpDFjJYW.js";import{u as h}from"./uImage.CaNHKe0W.js";import{a as c,u as j}from"./app.CC3Ru7Jg.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";const y={__name:"oldPhotoRestoration",setup(y){const x=a({app_id:0,photo_url:""}),V=a({points:0}),g=o((()=>0==V.value.points?"免费生成":"消耗算力:"+V.value.points));e((a=>{a.id?P({id:a.id}):P({type:"oldPhotoRestoration"})}));const P=a=>{c(a).then((a=>{V.value=a.data,x.value.app_id=V.value.id}))},R=()=>{V.value.id?(v({title:"生成中.."}),x.value.app_id=V.value.id,j(x.value).then((a=>{m.toast("生成成功"),_.open("/pages/app/result?type=oldPhotoRestoration")}))):m.toast("应用不存在")};return(a,o)=>{const e=t(s("y-footer"),f),m=u;return r(),l(m,{class:"px-10 py-10 pb-100"},{default:p((()=>[i(h,{modelValue:x.value.photo_url,"onUpdate:modelValue":o[0]||(o[0]=a=>x.value.photo_url=a),title:"需修复的照片"},null,8,["modelValue"]),i(e,{onSuccess:R,mode:""},{default:p((()=>[d(n(g.value),1)])),_:1})])),_:1})}}};export{y as default};
