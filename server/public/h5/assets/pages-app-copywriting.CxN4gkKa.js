import{j as e,V as l,n as a,p as t,q as s,c as u,w as d,h as o,a as f,b as i,d as n,F as p,e as c,f as r,t as v,J as _,v as m,x as b,g as h,M as x,I as g,P as y,a0 as k}from"./index-I9XTqCxv.js";import{_ as w}from"./y-footer.DRwDfcD1.js";import{a as V,u as C}from"./app.CwUTQ387.js";const j={__name:"copywriting",setup(j){const U=e(1),z=e({app_id:0}),D=e(""),O=e({points:0}),q=l((()=>0==O.value.points?"免费生成":"文案生成 消耗算力:"+O.value.points));a((e=>{e.id?B({id:e.id}):B({type:"oralCopy"})}));const B=e=>{V(e).then((e=>{O.value=e.data,O.value.tableData.forEach((e=>{"checkbox"==e.type?z.value[e.field]=[]:z.value[e.field]=""}))}))},E=()=>{O.value.id?(m({title:"生成中.."}),z.value.app_id=O.value.id,C(z.value).then((e=>{D.value=e.data,U.value=2}))):_.toast("应用不存在")},F=()=>{U.value=1,z.value={title:"",size:100}};return(e,l)=>{const a=h,_=y,m=o,V=k,C=t(s("y-footer"),w);return f(),u(m,{class:"px-12 pt-12 pb-100"},{default:d((()=>[1==U.value?(f(),u(m,{key:0},{default:d((()=>[(f(!0),i(p,null,n(O.value.tableData,((e,l)=>(f(),i(p,null,["input"==e.type?(f(),u(m,{key:0,class:"bg-white p-15 round-8 mt-20"},{default:d((()=>[c(a,{class:"fw-600"},{default:d((()=>[r(v(e.field_title),1)])),_:2},1024),c(m,{class:"bg-fa round-6 mt-6 p-12"},{default:d((()=>[c(_,{placeholder:e.placeholder||"请输入",class:"fs-14",modelValue:z.value[e.field],"onUpdate:modelValue":l=>z.value[e.field]=l},null,8,["placeholder","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)):x("",!0),"textarea"==e.type?(f(),u(m,{key:1,class:"bg-white p-15 round-8 mt-20"},{default:d((()=>[c(a,{class:"fw-600"},{default:d((()=>[r(v(e.field_title),1)])),_:2},1024),c(m,{class:"bg-fa round-6 mt-6 p-12"},{default:d((()=>[c(V,{placeholder:e.placeholder||"请输入",class:"fs-14",modelValue:z.value[e.field],"onUpdate:modelValue":l=>z.value[e.field]=l},null,8,["placeholder","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)):x("",!0),"radio"==e.type?(f(),u(m,{key:2,class:"bg-white p-15 round-8 mt-15"},{default:d((()=>[c(m,{class:"fs-15 ml-8"},{default:d((()=>[r(v(e.field_title),1)])),_:2},1024),(f(!0),i(p,null,n(e.option,((l,t)=>(f(),u(m,{class:g(["p-10 round-8 mt-6 bg-fa",z.value[e.field]==l.value?"bg-blue text-white":"bg-white"]),onClick:a=>z.value[e.field]=l.value},{default:d((()=>[c(a,null,{default:d((()=>[r(v(l.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:2},1024)):x("",!0),"checkbox"==e.type?(f(),u(m,{key:3,class:"bg-white p-15 round-8 mt-15"},{default:d((()=>[c(m,{class:"fs-15 ml-8"},{default:d((()=>[r(v(e.field_title),1)])),_:2},1024),(f(!0),i(p,null,n(e.option,((l,t)=>(f(),u(m,{class:g(["p-10 round-8 mt-6 bg-fa",-1!=z.value[e.field].indexOf(l.value)?"bg-blue text-white":"bg-white"]),onClick:a=>((e,l)=>{const a=z.value[l].indexOf(e.value);-1==a?z.value[l].push(e.value):z.value[l].splice(a,1)})(l,e.field)},{default:d((()=>[c(a,null,{default:d((()=>[r(v(l.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:2},1024)):x("",!0)],64)))),256)),c(C,{onSuccess:E,mode:""},{default:d((()=>[r(v(q.value),1)])),_:1})])),_:1})):(f(),u(m,{key:1,class:"bg-white round-8 p-10 fs-14"},{default:d((()=>[r(v(D.value)+" ",1),c(m,{class:"flex w-p-100 fs-13 gap-8 flex-x-flex-end mt-10"},{default:d((()=>[c(m,{class:"bg-29 flex flex-y-center px-12 py-4 gap-4 round-4",onClick:F},{default:d((()=>[c(a,{class:"iconfont icon-fanhui"}),r(" 重新生成 ")])),_:1}),c(m,{class:"bg-29 flex px-12 py-4 flex-y-center gap-4 round-4",onClick:l[0]||(l[0]=e=>{b({data:D.value})})},{default:d((()=>[c(a,{class:"iconfont icon-fuzhi-"}),r(" 复制文案 ")])),_:1})])),_:1})])),_:1}))])),_:1})}}};export{j as default};
