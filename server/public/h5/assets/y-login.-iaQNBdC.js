import{k as e,v as s,ad as a,G as l,l as t,m as o,j as u,o as n,a7 as r,p as c,q as p,a as d,b as i,e as f,w as _,f as m,u as x,t as g,I as b,c as v,M as k,F as y,J as C,g as h,h as w,i as j,C as I}from"./index-I9XTqCxv.js";import{_ as q}from"./y-popup.CzrFrs4F.js";import{o as F}from"./user.Cf9fmg6-.js";import{_ as G}from"./_plugin-vue_export-helper.BCo6x5W8.js";e();const L=G({__name:"y-login",emits:["close"],setup(G,{emit:L}){const{WEBCONFIG:N}=t(o()),P=L,$=u(null),B=u(!1);n((()=>{const{hasLogin:s}=e();s()&&P("close")}));const D=()=>{0!=B.value?async function(e){const{get:t}=l();let o=t("PID")||0;s({title:"登录中..."});let u={pid:o},n="/pages/index/index";n=a()[0].route,F({...u,page:n}).then((e=>{location.assign(e.data)}))}():C.toast("请先阅读并同意协议")};return(e,s)=>{const a=h,l=w,t=j,o=I,u=r("y-user"),n=c(p("y-popup"),q);return d(),i(y,null,[f(l,{class:"fs-18 text-center mt-10"},{default:_((()=>[f(a,null,{default:_((()=>[m("微信授权登录")])),_:1})])),_:1}),f(l,{class:"px-20 pt-20"},{default:_((()=>[f(l,{class:"flex flex-center flex-column"},{default:_((()=>{var e;return[f(t,{class:"w-80 h-80 round-circle",src:null==(e=x(N))?void 0:e.webLogo},null,8,["src"]),f(a,{class:"fw-600 fs-20 mt-10"},{default:_((()=>{var e;return[m(g(null==(e=x(N))?void 0:e.webName),1)]})),_:1})]})),_:1}),f(o,{class:"bg-blue text-white mt-30 fs-16",onClick:D},{default:_((()=>[m("一键登录/注册")])),_:1}),f(l,{class:"flex gap-6 fs-14 flex-center mt-10"},{default:_((()=>[f(l,{class:b(["flex flex-center w-20 p-2 h-20 round-circle",B.value?"border-blue":"border-87"]),style:{"border-width":"2px"},onClick:s[0]||(s[0]=e=>B.value=!B.value)},{default:_((()=>[B.value?(d(),v(l,{key:0,class:"w-p-100 h-p-100 round-circle bg-blue"})):k("",!0)])),_:1},8,["class"]),f(a,null,{default:_((()=>[m("阅读并同意")])),_:1}),f(a,{class:"text-blue",onClick:s[1]||(s[1]=s=>e.$page.open("/pages/tags/index?key=service"))},{default:_((()=>[m("《服务协议》")])),_:1}),f(a,null,{default:_((()=>[m("和")])),_:1}),f(a,{class:"text-blue",onClick:s[2]||(s[2]=s=>e.$page.open("/pages/tags/index?key=privacy"))},{default:_((()=>[m("《隐私协议》")])),_:1})])),_:1})])),_:1}),f(n,{ref_key:"userPopup",ref:$,mode:"bottom",round:"10",maskClickClose:!1},{default:_((()=>[f(u,{onClose:e.userClose},null,8,["onClose"])])),_:1},512)],64)}}},[["__scopeId","data-v-a7572c43"]]);export{L as _};
