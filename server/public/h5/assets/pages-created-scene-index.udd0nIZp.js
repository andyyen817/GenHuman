import{r as e,a as s,c as l,w as a,b as t,F as u,d as c,e as n,I as o,f as i,t as r,i as f,g as d,h as p,l as m,m as g,V as x,j as _,p as h,q as v,M as b,Y as y,v as w,Z as k,A as P,_ as j,J as V,$ as C,E as F,P as q}from"./index-CjGKjdXG.js";import{_ as E}from"./y-footer.C0ly4R3m.js";import{c as I}from"./scene.aB1pWo_Z.js";const T={__name:"right-list",setup(m){const g=e([{title:"正脸自拍",icon:"success",img:"/static/image/01.png"},{title:"可微张口",icon:"success",img:"/static/image/02.png"},{title:"面部遮挡",icon:"error",img:"/static/image/03.png"}]);return(e,m)=>{const x=f,_=d,h=p;return s(),l(h,{class:"flex flex-column gap-10"},{default:a((()=>[(s(!0),t(u,null,c(g,((e,t)=>(s(),l(h,{class:"flex flex-column fs-14 gap-3",key:t},{default:a((()=>[n(x,{src:e.img,class:"w-80 h-80 round-6"},null,8,["src"]),n(h,{class:"flex flex-y-center flex-x-center gap-3"},{default:a((()=>[n(_,{class:o(["iconfont fs-14","success"==e.icon?"text-green icon-zhengque ":"text-red icon-shanchu3 "])},null,8,["class"]),n(_,null,{default:a((()=>[i(r(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}}},z={__name:"index",setup(e){const{WEBCONFIG:t}=m(g()),u=x((()=>0==(null==t?void 0:t.value.scenePoint)||"0"==(null==t?void 0:t.value.scenePoint)?"免费创建":"创建形象 消耗算力:"+(null==t?void 0:t.value.scenePoint))),c=_({title:"",url:""}),o=()=>{y({sourceType:["album"],compressed:!1,success(e){w({title:"视频上传中..."}),k({filePath:e.tempFilePath}).then((e=>{P(),c.value.url=e.data.file_url,j({title:"视频上传成功"})})).catch((e=>{P()}))}})},f=()=>{""!=c.value.title&&""!=c.value.url?(w({title:"任务提交中..."}),I(c.value).then((e=>{V.toast("任务提交成功"),setTimeout((()=>{C.back()}),500)}))):V.toast("请填写完善数据","error")};return(e,t)=>{const m=d,g=p,x=F,_=q,y=h(v("y-footer"),E);return s(),l(g,{class:"p-10 fs-15 pb-120"},{default:a((()=>[n(g,{class:"flex gap-10"},{default:a((()=>[n(g,{class:"bg-white p-15 flex-1 round-8"},{default:a((()=>[n(g,{class:"bg-fa round-8 w-p-100 h-p-100 flex flex-center overflow-hidden relative"},{default:a((()=>[""==c.value.url?(s(),l(g,{key:0,class:"flex flex-column gap-4 flex-y-center",onClick:o},{default:a((()=>[n(m,{class:"iconfont icon-shangchuanwenjian fs-30 text-666"}),n(m,{class:"fs-14"},{default:a((()=>[i("点击上传文件")])),_:1})])),_:1})):(s(),l(x,{key:1,src:c.value.url,class:"w-p-100 h-p-100"},null,8,["src"])),""!=c.value.url?(s(),l(g,{key:2,class:"bg-21 absolute top-0 left-0 fs-13 text-white px-8 py-4 round-bottom-right-8",onClick:o},{default:a((()=>[i("重新选择")])),_:1})):b("",!0)])),_:1})])),_:1}),n(T)])),_:1}),n(g,{class:"bg-white p-15 round-8 mt-20"},{default:a((()=>[n(m,{class:"fw-600"},{default:a((()=>[i("形象名称")])),_:1}),n(g,{class:"bg-fa round-6 mt-6 p-12"},{default:a((()=>[n(_,{placeholder:"请输入形象名称...",class:"fs-14",modelValue:c.value.title,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),n(y,{onSuccess:f},{default:a((()=>[i(r(u.value),1)])),_:1})])),_:1})}}};export{z as default};
