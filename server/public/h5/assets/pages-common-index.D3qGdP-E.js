import{u as e,_ as a}from"./useZPaging.CMiNOcey.js";import{k as l,j as s,D as o,o as t,r as u,p,q as r,c as n,w as i,G as m,h as d,a as c,e as f,f as v,t as g,b as _,d as y,F as x,$ as j,i as b,g as k}from"./index--fVdvEP2.js";import{_ as w,b as h,a as V}from"./empty.CNnE7IAS.js";import{_ as P}from"./y-item-voice.C5bwDq2i.js";import{_ as C}from"./z-paging.BHQilSWM.js";import{_ as U}from"./y-login.H0617H8p.js";import{_ as q}from"./y-popup.C-QUiGxL.js";import{g as z}from"./scene.DEoXKLIq.js";import{g as E}from"./voice.BdSLVDIe.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./loading.CHwnyn4v.js";import"./works.BN0tr-M3.js";import"./user.B160tnnk.js";const S={__name:"index",setup(S){const{hasLogin:T,getUserInfo:Y}=l(),{get:D,remove:F}=m(),G=s(null),I=s([]),L=s(),M=s(0),Q=s();e(G),o((()=>{const e=D("TYPE");e&&($.value=e,F("TYPE")),G.value&&T()&&G.value.reload()})),t((()=>{T()?(G.value.reload(),Y()):null==L||L.value.open()}));const Z=u([{label:"我的形象",value:1},{label:"我的声音",value:2}]),$=s(1),A=(e,a)=>{1==$.value&&z({page:e,limit:a}).then((e=>{G.value.complete(e.data)})),2==$.value&&E({page:e,limit:a}).then((e=>{G.value.complete(e.data)}))},B=()=>{G.value.reload()},H=e=>{M.value=e.id,Q.value.open()},J=()=>{let e="/pages/created/scene/index";2==$.value&&(e="/pages/created/voice/index"),j.open(e)};return(e,l)=>{const s=p(r("y-tabs"),a),o=p(r("y-item-video"),w),t=d,u=p(r("y-item-voice"),P),m=b,j=k,z=p(r("z-paging"),C),E=p(r("y-more"),h),S=p(r("y-login"),U),T=p(r("y-popup"),q);return c(),n(t,{class:"px-12"},{default:i((()=>[f(s,{list:Z,modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=e=>$.value=e),onChange:B},null,8,["list","modelValue"]),f(z,{ref_key:"paging",ref:G,modelValue:I.value,"onUpdate:modelValue":l[2]||(l[2]=e=>I.value=e),onQuery:A,"use-page-scroll":"",auto:!1},{empty:i((()=>[f(t,{class:"w-p-100 flex flex-center flex-column"},{default:i((()=>[f(m,{src:V,class:"empty"}),f(t,{class:"w-p-100 flex flex-center"},{default:i((()=>[f(t,{class:"flex flex-column gap-8 flex-y-center w-p-100"},{default:i((()=>[f(j,{class:"fs-18 text-333 fw-bold"},{default:i((()=>[v("暂无"+g(1==$.value?"形象":"音色"),1)])),_:1}),f(j,{class:"fs-12 text-999"},{default:i((()=>[v("立即去创建一个吧")])),_:1}),f(t,{class:"btn-blue mt-10 w-p-70",onClick:J},{default:i((()=>[v("创建"+g(1==$.value?"形象":"音色"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),default:i((()=>[f(t,{class:"p-10"},{default:i((()=>[1==$.value?(c(),n(t,{key:0,class:"grid-columns-2 gap-10"},{default:i((()=>[(c(!0),_(x,null,y(I.value,((e,a)=>(c(),n(o,{key:e.id,onSuccess:l[1]||(l[1]=e=>G.value.reload()),type:2,detail:e},null,8,["detail"])))),128))])),_:1})):(c(),n(u,{key:1,list:I.value,onMore:H},null,8,["list"]))])),_:1})])),_:1},8,["modelValue"]),f(E,{ref_key:"morePopup",ref:Q,type:3,id:M.value,onSuccess:l[3]||(l[3]=e=>G.value.reload())},null,8,["id"]),f(T,{ref_key:"loginPopup",ref:L,mode:"bottom",round:"12px"},{default:i((()=>[f(t,{class:"pb-10"},{default:i((()=>[f(S,{onClose:l[4]||(l[4]=e=>L.value.close())})])),_:1})])),_:1},512)])),_:1})}}};export{S as default};
