import{_ as e}from"./GiCellState.vue_vue_type_script_setup_true_lang-BoaERBXa.js";import{_ as t}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-NI_VrlL9.js";import{_ as a}from"./GiForm-DNKTEToa.js";import{a3 as l,d as s,a2 as i,g as r,o as n,a as o,w as d,j as c,i as u,H as p,G as _,t as m,h as g,b as h,k as y,$ as f}from"./index-C2oOc9l2.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-B2lrYWs7.js";import{g as b}from"./type-BDZ8i4x3.js";const x={key:0},v=s({__name:"index",setup(s){const{loading:v,tableData:k,pagination:w,search:j,fixed:R,searchParams:C,reset:G}=i((e=>{return t=e,l.get("/Record/getList",t);var t}),{immediate:!0}),S=[{type:"input",label:"昵称",field:"nickname"},{type:"input",label:"用户ID",field:"userId"},{type:"select",label:"状态",field:"status",props:{options:[{label:"全部",value:""},{label:"待支付",value:0},{label:"已支付",value:1}]}}],D=e=>{(function(e){return l.post("/Record/delete",{id:e})})(e).then((e=>{f.success("删除成功"),j()})).catch((e=>{f.error(e.message)}))};return(l,s)=>{const i=a,f=r("a-table-column"),I=t,V=r("a-tag"),A=r("a-image"),F=e,H=r("icon-delete"),O=r("a-button"),P=r("a-popconfirm"),z=r("a-table"),L=r("a-card");return n(),o(L,{title:"订单列表",class:"gi_page_card"},{default:d((()=>[c(i,{modelValue:u(C),"onUpdate:modelValue":s[0]||(s[0]=e=>p(C)?C.value=e:null),search:"",columns:S,"grid-item-props":{span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},onSearch:u(j),onReset:u(G)},null,8,["modelValue","onSearch","onReset"]),c(z,{class:"gi_table","row-key":"id",data:u(k),bordered:{cell:!0},loading:u(v),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:u(w)},{columns:d((()=>[c(f,{title:"序号",width:64},{cell:d((e=>[_(m(e.rowIndex+1),1)])),_:1}),c(f,{title:"用户信息","data-index":"nickname"},{cell:d((({record:e})=>[c(I,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),c(f,{title:"类型",align:"center"},{cell:d((({record:e})=>[c(V,{color:"arcoblue"},{default:d((()=>[_(m(u(b)(e.type)),1)])),_:2},1024)])),_:1}),c(f,{title:"消耗算力点","data-index":"points"}),c(f,{title:"结果",align:"center",ellipsis:"",tooltip:""},{cell:d((({record:e})=>["oralCopy"==e.type?(n(),g("span",x,m(e.result),1)):h("",!0),"facialFusion"==e.type?(n(),o(A,{key:1,width:"60",height:"60",src:e.result},null,8,["src"])):h("",!0),"photoHD"==e.type?(n(),o(A,{key:2,width:"60",height:"60",src:e.result},null,8,["src"])):h("",!0),"oldPhotoRestoration"==e.type?(n(),o(A,{key:3,width:"60",height:"60",src:e.result},null,8,["src"])):h("",!0),"hairStyle"==e.type?(n(),o(A,{key:4,width:"60",height:"60",src:e.result},null,8,["src"])):h("",!0)])),_:1}),c(f,{title:"状态",align:"center"},{cell:d((({record:e})=>[c(F,{status:e.status},null,8,["status"])])),_:1}),c(f,{title:"创建时间","data-index":"create_time"}),c(f,{title:"操作",width:100,align:"center",fixed:u(R)},{cell:d((({record:e})=>[c(P,{type:"warning",content:"确定删除该数据吗?",onOk:t=>D(e.id)},{default:d((()=>[c(O,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:d((()=>[c(H)])),default:d((()=>[s[1]||(s[1]=y("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"])])),_:1})}}});export{v as default};
