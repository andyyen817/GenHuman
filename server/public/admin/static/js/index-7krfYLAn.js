import{_ as e}from"./GiCellState.vue_vue_type_script_setup_true_lang-DOSOysHG.js";import{_ as a}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-2FGPbJeq.js";import{_ as t}from"./GiForm-DngIbodo.js";import{a3 as l,d as i,a2 as s,g as n,o as r,a as o,w as d,j as c,i as u,H as p,G as _,t as m,h as g,b as f,k as y,$ as b}from"./index-DjSAiWeD.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-BwMU2-7_.js";import{g as x}from"./type-CfNJSRXK.js";const h={key:0},v=i({__name:"index",setup(i){const{loading:v,tableData:k,pagination:j,search:w,fixed:C,searchParams:G,reset:R}=s((e=>{return a=e,l.get("/Record/getList",a);var a}),{immediate:!0}),I=[{type:"input",label:"昵称",field:"nickname"},{type:"input",label:"用户ID",field:"userId"},{type:"select",label:"状态",field:"status",props:{options:[{label:"全部",value:""},{label:"待支付",value:0},{label:"已支付",value:1}]}}],S=e=>{(function(e){return l.post("/Record/delete",{id:e})})(e).then((e=>{b.success("删除成功"),w()})).catch((e=>{b.error(e.message)}))};return(l,i)=>{const s=t,b=n("a-table-column"),V=a,A=n("a-tag"),D=n("a-image"),F=e,O=n("icon-delete"),z=n("a-button"),H=n("a-popconfirm"),L=n("a-table"),M=n("a-card");return r(),o(M,{title:"订单列表",class:"gi_page_card"},{default:d((()=>[c(s,{modelValue:u(G),"onUpdate:modelValue":i[0]||(i[0]=e=>p(G)?G.value=e:null),search:"",columns:I,"grid-item-props":{span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},onSearch:u(w),onReset:u(R)},null,8,["modelValue","onSearch","onReset"]),c(L,{class:"gi_table","row-key":"id",data:u(k),bordered:{cell:!0},loading:u(v),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:u(j)},{columns:d((()=>[c(b,{title:"序号",width:64},{cell:d((e=>[_(m(e.rowIndex+1),1)])),_:1}),c(b,{title:"用户信息","data-index":"nickname"},{cell:d((({record:e})=>[c(V,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),c(b,{title:"类型",align:"center"},{cell:d((({record:e})=>[c(A,{color:"arcoblue"},{default:d((()=>[_(m(u(x)(e.type)),1)])),_:2},1024)])),_:1}),c(b,{title:"消耗算力点","data-index":"points"}),c(b,{title:"结果",align:"center",ellipsis:"",tooltip:""},{cell:d((({record:e})=>["oralCopy"==e.type?(r(),g("span",h,m(e.result),1)):f("",!0),"facialFusion"==e.type?(r(),o(D,{key:1,width:"60",height:"60",src:e.result},null,8,["src"])):f("",!0)])),_:1}),c(b,{title:"状态",align:"center"},{cell:d((({record:e})=>[c(F,{status:e.status},null,8,["status"])])),_:1}),c(b,{title:"创建时间","data-index":"create_time"}),c(b,{title:"操作",width:100,align:"center",fixed:u(C)},{cell:d((({record:e})=>[c(H,{type:"warning",content:"确定删除该数据吗?",onOk:a=>S(e.id)},{default:d((()=>[c(z,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:d((()=>[c(O)])),default:d((()=>[i[1]||(i[1]=y("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"])])),_:1})}}});export{v as default};
