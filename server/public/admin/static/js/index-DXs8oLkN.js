import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-CgT9TAmj.js";import{_ as t,d as a,g as i}from"./AddArticleModal.vue_vue_type_script_setup_true_lang-BI02VEwB.js";import{d as l,M as s,Y as d,a2 as n,g as r,o,a as c,w as u,j as _,k as p,i as m,G as g,t as f,$ as x}from"./index-CyyHvq4l.js";import"./index.vue_vue_type_script_setup_true_lang-CqtqYt-k.js";import"./index-Dcn4iyj2.js";import"./index-nvf-VXJG.js";import"./index-EX7goJwW.js";import"./index-DdTzEE7R.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-YA0YoIMp.js";import"./index-BynsH5MT.js";import"./index-CIhzolbU.js";import"./category-D5CTRRak.js";import"./useResetReactive-3wdC2HLy.js";const v=l({__name:"index",setup(l){const v=s("AddArticleModalRef");d({title:"",status:""});const{loading:y,tableData:j,pagination:b,search:h,fixed:w}=n((e=>i(e)),{immediate:!0}),k=()=>{var e;null==(e=v.value)||e.add()};return(i,l)=>{const s=r("icon-plus"),d=r("a-button"),n=r("a-space"),A=r("a-row"),S=r("a-table-column"),C=r("a-image"),M=e,R=r("icon-edit"),z=r("icon-delete"),G=r("a-popconfirm"),O=r("a-table"),D=r("a-card");return o(),c(D,{title:"文章管理",class:"gi_page_card"},{default:u((()=>[_(A,null,{default:u((()=>[_(n,{wrap:""},{default:u((()=>[_(d,{type:"primary",onClick:k},{icon:u((()=>[_(s)])),default:u((()=>[l[0]||(l[0]=p("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),_(O,{class:"gi_table","row-key":"id",data:m(j),bordered:{cell:!0},loading:m(y),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:m(b)},{columns:u((()=>[_(S,{title:"序号",width:64},{cell:u((e=>[g(f(e.rowIndex+1),1)])),_:1}),_(S,{title:"文章标题","data-index":"title"}),_(S,{title:"所属分类","data-index":"category.title"}),_(S,{title:"文章简介","data-index":"desc"}),_(S,{title:"封面",width:150},{cell:u((({record:e})=>[_(C,{src:e.cover,width:"60",height:"60"},null,8,["src"])])),_:1}),_(S,{title:"排序","data-index":"sort"}),_(S,{title:"状态",align:"center"},{cell:u((({record:e})=>[_(M,{status:e.status},null,8,["status"])])),_:1}),_(S,{title:"创建时间","data-index":"create_time"}),_(S,{title:"操作",align:"center",fixed:m(w)},{cell:u((({record:e})=>[_(n,null,{default:u((()=>[_(d,{type:"primary",size:"mini",disabled:e.disabled,onClick:t=>{return a=e,void(null==(i=v.value)||i.edit(a.id));var a,i}},{icon:u((()=>[_(R)])),default:u((()=>[l[1]||(l[1]=p("span",null,"编辑",-1))])),_:2},1032,["disabled","onClick"]),_(G,{type:"warning",content:"确定删除该数据吗?",onOk:t=>{return i=e.id,void a({id:i}).then((e=>{x.success("删除成功"),h()})).catch((e=>{x.error(e.message)}));var i}},{default:u((()=>[_(d,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:u((()=>[_(z)])),default:u((()=>[l[2]||(l[2]=p("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"]),_(t,{ref_key:"AddArticleModalRef",ref:v,onSaveSuccess:m(h)},null,8,["onSaveSuccess"])])),_:1})}}});export{v as default};
