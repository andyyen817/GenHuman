import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-rFeg36_l.js";import{_ as t}from"./AddRoleModal.vue_vue_type_script_setup_true_lang-CWVfuXyM.js";import{_ as a}from"./PermModal.vue_vue_type_script_setup_true_lang-BznuxNVO.js";import{d as l,M as i,Y as s,a2 as d,g as n,o,a as r,w as c,j as u,k as p,i as _,G as m,t as f}from"./index-DjSAiWeD.js";import{a as y}from"./role-DgkbgYfJ.js";import"./useResetReactive-A9W2fVr9.js";import"./menu-DhYDTUtY.js";const g=l({name:"SystemRole",__name:"index",setup(l){const g=i("AddRoleModalRef"),v=i("PermModalRef");s({title:"",status:""});const{loading:b,tableData:k,pagination:w,selectedKeys:x,search:h,select:R,selectAll:S,fixed:j}=d((e=>y(e)),{immediate:!0}),A=()=>{var e;null==(e=g.value)||e.add()};return(l,i)=>{const s=n("icon-plus"),d=n("a-button"),y=n("a-space"),C=n("a-row"),M=n("a-table-column"),z=e,P=n("icon-edit"),G=n("icon-safe"),q=n("icon-delete"),D=n("a-popconfirm"),I=n("a-table"),K=n("a-card");return o(),r(K,{title:"角色管理",class:"gi_page_card"},{default:c((()=>[u(C,null,{default:c((()=>[u(y,{wrap:""},{default:c((()=>[u(d,{type:"primary",onClick:A},{icon:c((()=>[u(s)])),default:c((()=>[i[0]||(i[0]=p("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),u(I,{class:"gi_table","row-key":"id",data:_(k),bordered:{cell:!0},loading:_(b),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:_(w),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":_(x),onSelect:_(R),onSelectAll:_(S)},{columns:c((()=>[u(M,{title:"序号",width:64},{cell:c((e=>[m(f(e.rowIndex+1),1)])),_:1}),u(M,{title:"角色名称","data-index":"title"}),u(M,{title:"角色编码","data-index":"code",width:150}),u(M,{title:"状态",width:100,align:"center"},{cell:c((({record:e})=>[u(z,{status:e.status},null,8,["status"])])),_:1}),u(M,{title:"描述","data-index":"description",ellipsis:!0,tooltip:!0}),u(M,{title:"创建时间","data-index":"createTime",width:180}),u(M,{title:"操作",width:280,align:"center",fixed:_(j)},{cell:c((({record:e})=>[u(y,null,{default:c((()=>[u(d,{type:"primary",size:"mini",disabled:e.disabled,onClick:t=>{return a=e,void(null==(l=g.value)||l.edit(a.id));var a,l}},{icon:c((()=>[u(P)])),default:c((()=>[i[1]||(i[1]=p("span",null,"编辑",-1))])),_:2},1032,["disabled","onClick"]),u(d,{type:"primary",status:"success",size:"mini",disabled:e.disabled,onClick:t=>{return a=e,void(null==(l=v.value)||l.open({code:a.code,title:a.name,menu_ids:a.menu_ids,id:a.id}));var a,l}},{icon:c((()=>[u(G)])),default:c((()=>i[2]||(i[2]=[m("分配权限")]))),_:2},1032,["disabled","onClick"]),u(D,{type:"warning",content:"确定删除该角色吗?"},{default:c((()=>[u(d,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:c((()=>[u(q)])),default:c((()=>[i[3]||(i[3]=p("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),u(t,{ref_key:"AddRoleModalRef",ref:g,onSaveSuccess:_(h)},null,8,["onSaveSuccess"]),u(a,{ref_key:"PermModalRef",ref:v},null,512)])),_:1})}}});export{g as default};
