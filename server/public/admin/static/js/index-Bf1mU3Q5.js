import{_ as e}from"./GiCellState.vue_vue_type_script_setup_true_lang-DOSOysHG.js";import{_ as t}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-2FGPbJeq.js";import{_ as a}from"./GiForm-DngIbodo.js";import{a3 as l,d as i,a2 as n,g as s,o as d,a as o,w as r,j as c,i as u,H as _,G as p,t as m,b as g,k as f,$ as v}from"./index-DjSAiWeD.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-BwMU2-7_.js";import{p as b}from"./index-BGxYPXS0.js";const x=i({__name:"index",setup(i){const x=[{type:"input",label:"昵称",field:"nickname"},{type:"input",label:"用户ID",field:"userId"},{type:"input",label:"音色名称",field:"title"},{type:"select",label:"状态",field:"status",props:{options:[{label:"全部",value:""},{label:"创建中",value:1},{label:"已完成",value:2},{label:"失败",value:3}]}}],{loading:h,tableData:y,pagination:k,search:w,fixed:j,searchParams:C,reset:I}=n((e=>{return t=e,l.get("/Voice/getList",t);var t}),{immediate:!0}),V=e=>{(function(e){return l.post("/Voice/delete",{id:e})})(e).then((e=>{v.success("删除成功"),w()})).catch((e=>{v.error(e.message)}))};return(l,i)=>{const n=a,v=s("a-table-column"),D=t,G=s("a-button"),S=s("a-tag"),A=e,O=s("icon-delete"),P=s("a-popconfirm"),R=s("a-table"),z=s("a-card");return d(),o(z,{title:"音色列表",class:"gi_page_card"},{default:r((()=>[c(n,{modelValue:u(C),"onUpdate:modelValue":i[0]||(i[0]=e=>_(C)?C.value=e:null),search:"",columns:x,"grid-item-props":{span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},onSearch:u(w),onReset:u(I)},null,8,["modelValue","onSearch","onReset"]),c(R,{class:"gi_table","row-key":"id",data:u(y),bordered:{cell:!0},loading:u(h),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:u(k)},{columns:r((()=>[c(v,{title:"序号",width:64},{cell:r((e=>[p(m(e.rowIndex+1),1)])),_:1}),c(v,{title:"用户信息","data-index":"nickname"},{cell:r((({record:e})=>[c(D,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),c(v,{title:"音色名称","data-index":"title"}),c(v,{title:"任务ID","data-index":"task_id",width:150}),c(v,{title:"音色ID","data-index":"voice_id",ellipsis:!0,tooltip:!0}),c(v,{title:"训练音频",width:150},{cell:r((({record:e})=>[c(G,{type:"text",onClick:t=>{var a;b({name:(a=e).title,id:a.id,url:a.voice_url,filePath:a.voice_url})}},{default:r((()=>i[1]||(i[1]=[p("点击播放")]))),_:2},1032,["onClick"]),c(G,{type:"text",status:"success",onClick:t=>{return a=e,void window.open(a.voice_url,"_blank");var a}},{default:r((()=>i[2]||(i[2]=[p("点击下载")]))),_:2},1032,["onClick"])])),_:1}),c(v,{title:"类型",align:"center"},{cell:r((({record:e})=>[1==e.channel?(d(),o(S,{key:0,color:"blue"},{default:r((()=>i[3]||(i[3]=[p("普通语音")]))),_:1})):g("",!0),2==e.channel?(d(),o(S,{key:1,color:"green"},{default:r((()=>i[4]||(i[4]=[p("深度语音")]))),_:1})):g("",!0)])),_:1}),c(v,{title:"状态",width:150,align:"center"},{cell:r((({record:e})=>[c(A,{status:e.status},null,8,["status"])])),_:1}),c(v,{title:"创建时间","data-index":"create_time",width:180}),c(v,{title:"操作",width:100,align:"center",fixed:u(j)},{cell:r((({record:e})=>[c(P,{type:"warning",content:"确定删除该数据吗?",onOk:t=>V(e.id)},{default:r((()=>[c(G,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:r((()=>[c(O)])),default:r((()=>[i[5]||(i[5]=f("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"])])),_:1})}}});export{x as default};
