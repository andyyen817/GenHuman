import{_ as a}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-BYIHUzFO.js";import{_ as e}from"./AddCategoryModal.vue_vue_type_script_setup_true_lang-C9VmLoOR.js";import{d as t,M as i,Y as l,a2 as s,g as d,o as n,a as r,w as o,j as u,k as c,i as _,G as p,t as m,$ as f}from"./index-CbZLgSae.js";import{d as g,g as y}from"./category-BrntUIvO.js";import"./useResetReactive-BQzDWKSe.js";const v=t({__name:"index",setup(t){const v=i("AddCategoryModalRef");l({title:"",status:""});const{loading:b,tableData:x,pagination:k,search:w,fixed:C}=s((a=>y(a)),{immediate:!0}),j=()=>{var a;null==(a=v.value)||a.add()};return(t,i)=>{const l=d("icon-plus"),s=d("a-button"),y=d("a-space"),h=d("a-row"),S=d("a-table-column"),M=a,R=d("icon-edit"),A=d("icon-delete"),z=d("a-popconfirm"),G=d("a-table"),O=d("a-card");return n(),r(O,{title:"文章分类",class:"gi_page_card"},{default:o((()=>[u(h,null,{default:o((()=>[u(y,{wrap:""},{default:o((()=>[u(s,{type:"primary",onClick:j},{icon:o((()=>[u(l)])),default:o((()=>[i[0]||(i[0]=c("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),u(G,{class:"gi_table","row-key":"id",data:_(x),bordered:{cell:!0},loading:_(b),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:_(k)},{columns:o((()=>[u(S,{title:"序号",width:64},{cell:o((a=>[p(m(a.rowIndex+1),1)])),_:1}),u(S,{title:"分类名称","data-index":"title"}),u(S,{title:"排序","data-index":"sort"}),u(S,{title:"状态",align:"center"},{cell:o((({record:a})=>[u(M,{status:a.status},null,8,["status"])])),_:1}),u(S,{title:"创建时间","data-index":"create_time"}),u(S,{title:"操作",align:"center",fixed:_(C)},{cell:o((({record:a})=>[u(y,null,{default:o((()=>[u(s,{type:"primary",size:"mini",disabled:a.disabled,onClick:e=>{return t=a,void(null==(i=v.value)||i.edit(t.id));var t,i}},{icon:o((()=>[u(R)])),default:o((()=>[i[1]||(i[1]=c("span",null,"编辑",-1))])),_:2},1032,["disabled","onClick"]),u(z,{type:"warning",content:"确定删除该套餐吗?",onOk:e=>{return t=a.id,void g({id:t}).then((a=>{f.success("删除成功"),w()})).catch((a=>{f.error(a.message)}));var t}},{default:o((()=>[u(s,{type:"primary",status:"danger",size:"mini",disabled:a.disabled},{icon:o((()=>[u(A)])),default:o((()=>[i[2]||(i[2]=c("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"]),u(e,{ref_key:"AddCategoryModalRef",ref:v,onSaveSuccess:_(w)},null,8,["onSaveSuccess"])])),_:1})}}});export{v as default};
