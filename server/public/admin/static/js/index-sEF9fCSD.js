import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-42nqT8v4.js";import{_ as t,d as a,g as i}from"./AddArticleModal.vue_vue_type_script_setup_true_lang-B12CKDu-.js";import{d as l,M as s,Y as d,a2 as n,g as r,o,a as c,w as u,j as _,k as p,i as m,G as g,t as f,$ as x}from"./index-PFxU9JJn.js";import"./index.vue_vue_type_script_setup_true_lang-BqlVyj9y.js";import"./index-DT-EKXxS.js";import"./index-CtgtvX_q.js";import"./index-cqkZPRyn.js";import"./index-BoDrVy_8.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-BwzHiRcr.js";import"./index-C7IOgi-D.js";import"./index-_80Uoeiw.js";import"./category-DifXSo6-.js";import"./useResetReactive-C9BdlN97.js";const v=l({__name:"index",setup(l){const v=s("AddArticleModalRef");d({title:"",status:""});const{loading:y,tableData:j,pagination:b,search:h,fixed:k}=n((e=>i(e)),{immediate:!0}),w=()=>{var e;null==(e=v.value)||e.add()};return(i,l)=>{const s=r("icon-plus"),d=r("a-button"),n=r("a-space"),A=r("a-row"),C=r("a-table-column"),M=r("a-image"),S=e,R=r("icon-edit"),z=r("icon-delete"),G=r("a-popconfirm"),O=r("a-table"),Y=r("a-card");return o(),c(Y,{title:"文章管理",class:"gi_page_card"},{default:u((()=>[_(A,null,{default:u((()=>[_(n,{wrap:""},{default:u((()=>[_(d,{type:"primary",onClick:w},{icon:u((()=>[_(s)])),default:u((()=>[l[0]||(l[0]=p("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),_(O,{class:"gi_table","row-key":"id",data:m(j),bordered:{cell:!0},loading:m(y),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:m(b)},{columns:u((()=>[_(C,{title:"序号",width:64},{cell:u((e=>[g(f(e.rowIndex+1),1)])),_:1}),_(C,{title:"文章标题","data-index":"title"}),_(C,{title:"所属分类","data-index":"category.title"}),_(C,{title:"文章简介","data-index":"desc"}),_(C,{title:"封面",width:150},{cell:u((({record:e})=>[_(M,{src:e.cover,width:"60",height:"60"},null,8,["src"])])),_:1}),_(C,{title:"排序","data-index":"sort"}),_(C,{title:"状态",align:"center"},{cell:u((({record:e})=>[_(S,{status:e.status},null,8,["status"])])),_:1}),_(C,{title:"创建时间","data-index":"create_time"}),_(C,{title:"操作",align:"center",fixed:m(k)},{cell:u((({record:e})=>[_(n,null,{default:u((()=>[_(d,{type:"primary",size:"mini",disabled:e.disabled,onClick:t=>{return a=e,void(null==(i=v.value)||i.edit(a.id));var a,i}},{icon:u((()=>[_(R)])),default:u((()=>[l[1]||(l[1]=p("span",null,"编辑",-1))])),_:2},1032,["disabled","onClick"]),_(G,{type:"warning",content:"确定删除该数据吗?",onOk:t=>{return i=e.id,void a({id:i}).then((e=>{x.success("删除成功"),h()})).catch((e=>{x.error(e.message)}));var i}},{default:u((()=>[_(d,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:u((()=>[_(z)])),default:u((()=>[l[2]||(l[2]=p("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"]),_(t,{ref_key:"AddArticleModalRef",ref:v,onSaveSuccess:m(h)},null,8,["onSaveSuccess"])])),_:1})}}});export{v as default};
