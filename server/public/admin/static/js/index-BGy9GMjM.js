import{_ as e}from"./GiCellState.vue_vue_type_script_setup_true_lang-BoaERBXa.js";import{_ as t}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-NI_VrlL9.js";import{_ as a}from"./GiForm-DNKTEToa.js";import{a3 as l,d as i,a2 as s,g as n,o as d,a as r,w as o,j as u,i as c,H as _,G as p,t as m,h as g,b as v,k as f,$ as x}from"./index-C2oOc9l2.js";import{p as h}from"./index-CBagLJA3.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-B2lrYWs7.js";const y={key:0},b={key:1},k={key:2},w=i({__name:"index",setup(i){const{loading:w,tableData:j,pagination:C,search:I,fixed:D,reset:G,searchParams:S}=s((e=>{return t=e,l.get("/Works/getList",t);var t}),{immediate:!0}),V=e=>{(function(e){return l.post("/Works/delete",{id:e})})(e).then((e=>{x.success("删除成功"),I()})).catch((e=>{x.error(e.message)}))},W=[{type:"input",label:"昵称",field:"nickname"},{type:"input",label:"用户ID",field:"userId"},{type:"input",label:"作品名称",field:"title"},{type:"select",label:"状态",field:"status",props:{options:[{label:"全部",value:""},{label:"创建中",value:1},{label:"已完成",value:2},{label:"失败",value:3}]}}];return(l,i)=>{const s=a,x=n("a-table-column"),A=t,O=n("a-image"),P=n("a-button"),R=e,z=n("icon-delete"),F=n("a-popconfirm"),H=n("a-table"),L=n("a-card");return d(),r(L,{title:"数字分身",class:"gi_page_card"},{default:o((()=>[u(s,{modelValue:c(S),"onUpdate:modelValue":i[0]||(i[0]=e=>_(S)?S.value=e:null),search:"",columns:W,"grid-item-props":{span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},onSearch:c(I),onReset:c(G)},null,8,["modelValue","onSearch","onReset"]),u(H,{class:"gi_table","row-key":"id",data:c(j),bordered:{cell:!0},loading:c(w),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:c(C)},{columns:o((()=>[u(x,{title:"序号",width:64},{cell:o((e=>[p(m(e.rowIndex+1),1)])),_:1}),u(x,{title:"用户信息","data-index":"nickname"},{cell:o((({record:e})=>[u(A,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),u(x,{title:"名称","data-index":"title"}),u(x,{title:"封面",width:150},{cell:o((({record:e})=>[u(O,{src:e.cover,width:"60",height:"60"},null,8,["src"])])),_:1}),u(x,{title:"视频地址",width:150},{cell:o((({record:e})=>[2==e.status?(d(),g("div",y,[u(P,{type:"text",onClick:t=>{var a;h({name:(a=e).title,id:a.id,url:a.video_url,filePath:a.video_url})}},{default:o((()=>i[1]||(i[1]=[p("点击播放")]))),_:2},1032,["onClick"]),u(P,{type:"text",status:"success",onClick:t=>{return a=e,void window.open(a.video_url,"_blank");var a}},{default:o((()=>i[2]||(i[2]=[p("点击下载")]))),_:2},1032,["onClick"])])):v("",!0),1==e.status?(d(),g("div",b,[u(P,{type:"text",status:"warning"},{default:o((()=>i[3]||(i[3]=[p("创建中")]))),_:1})])):v("",!0),3==e.status?(d(),g("div",k,[u(P,{type:"text",status:"danger"},{default:o((()=>i[4]||(i[4]=[p("失败")]))),_:1})])):v("",!0)])),_:1}),u(x,{title:"任务ID","data-index":"task_id",width:150}),u(x,{title:"任务ID","data-index":"task_id",width:150}),u(x,{title:"状态",width:150,align:"center"},{cell:o((({record:e})=>[u(R,{status:e.status},null,8,["status"])])),_:1}),u(x,{title:"创建时间","data-index":"create_time",width:180}),u(x,{title:"操作",width:100,align:"center",fixed:c(D)},{cell:o((({record:e})=>[u(F,{type:"warning",content:"确定删除该数据吗?",onOk:t=>V(e.id)},{default:o((()=>[u(P,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:o((()=>[u(z)])),default:o((()=>[i[5]||(i[5]=f("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"])])),_:1})}}});export{w as default};
