import{_ as e}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-3MfSJDeE.js";import{_ as a}from"./GiForm-BSQ6Ur0F.js";import{a3 as t,d as l,a2 as i,g as n,o as d,a as r,w as o,j as s,i as c,H as u,G as p,t as _,b as m,k as g,$ as x}from"./index-PFxU9JJn.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-BwzHiRcr.js";const f=l({__name:"index",setup(l){const{loading:f,tableData:b,pagination:h,search:y,fixed:v,searchParams:k,reset:w}=i((e=>{return a=e,t.get("/Order/getList",a);var a}),{immediate:!0}),j=[{type:"input",label:"昵称",field:"nickname"},{type:"input",label:"用户ID",field:"userId"},{type:"select",label:"状态",field:"status",props:{options:[{label:"全部",value:""},{label:"待支付",value:0},{label:"已支付",value:1}]}}],O=e=>{(function(e){return t.post("/Order/delete",{id:e})})(e).then((e=>{x.success("删除成功"),y()})).catch((e=>{x.error(e.message)}))};return(t,l)=>{const i=a,x=n("a-table-column"),G=e,I=n("a-tag"),V=n("icon-delete"),A=n("a-button"),C=n("a-popconfirm"),D=n("a-table"),R=n("a-card");return d(),r(R,{title:"订单列表",class:"gi_page_card"},{default:o((()=>[s(i,{modelValue:c(k),"onUpdate:modelValue":l[0]||(l[0]=e=>u(k)?k.value=e:null),search:"",columns:j,"grid-item-props":{span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},onSearch:c(y),onReset:c(w)},null,8,["modelValue","onSearch","onReset"]),s(D,{class:"gi_table","row-key":"id",data:c(b),bordered:{cell:!0},loading:c(f),scroll:{x:"100%",y:"100%",minWidth:1200},pagination:c(h)},{columns:o((()=>[s(x,{title:"序号",width:64},{cell:o((e=>[p(_(e.rowIndex+1),1)])),_:1}),s(x,{title:"用户信息","data-index":"nickname"},{cell:o((({record:e})=>[s(G,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),s(x,{title:"购买套餐","data-index":"title"}),s(x,{title:"订单编号","data-index":"order_no"}),s(x,{title:"微信侧订单号","data-index":"wechat_order_no",width:150}),s(x,{title:"订单金额","data-index":"price",width:150}),s(x,{title:"订单算力点","data-index":"points",width:150}),s(x,{title:"状态",width:150,align:"center"},{cell:o((({record:e})=>[0==e.status?(d(),r(I,{key:0,color:"red"},{default:o((()=>l[1]||(l[1]=[p("未支付")]))),_:1})):m("",!0),1==e.status?(d(),r(I,{key:1,color:"arcoblue"},{default:o((()=>l[2]||(l[2]=[p("已支付")]))),_:1})):m("",!0)])),_:1}),s(x,{title:"订单来源",align:"center"},{cell:o((({record:e})=>["applet"==e.source?(d(),r(I,{key:0,color:"orange"},{default:o((()=>l[3]||(l[3]=[p("小程序")]))),_:1})):(d(),r(I,{key:1,color:"arcoblue"},{default:o((()=>l[4]||(l[4]=[p("公众号")]))),_:1}))])),_:1}),s(x,{title:"支付时间","data-index":"pay_time"}),s(x,{title:"创建时间","data-index":"create_time"}),s(x,{title:"操作",width:100,align:"center",fixed:c(v)},{cell:o((({record:e})=>[s(C,{type:"warning",content:"确定删除该数据吗?",onOk:a=>O(e.id)},{default:o((()=>[s(A,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:o((()=>[s(V)])),default:o((()=>[l[5]||(l[5]=g("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1032,["onOk"])])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination"])])),_:1})}}});export{f as default};
