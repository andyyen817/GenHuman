import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-CgT9TAmj.js";import{_ as a}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-ClTBkYXG.js";import{_ as t}from"./AddUserModal.vue_vue_type_script_setup_true_lang-BJy-k64t.js";import{_ as l}from"./UserDetailDrawer.vue_vue_type_script_setup_true_lang-Br_SV8ee.js";import{d as i,M as n,f as s,Y as r,a2 as d,g as o,o as u,a as c,w as p,j as _,k as m,i as f,G as v,t as y,fn as x}from"./index-CyyHvq4l.js";import"./index-nvf-VXJG.js";import"./index-EX7goJwW.js";import"./index-Dcn4iyj2.js";import"./index-DdTzEE7R.js";import"./AudioModalContent.vue_vue_type_style_index_0_scoped_a0590cf0_lang-YA0YoIMp.js";import"./index-BynsH5MT.js";import"./index-CIhzolbU.js";import"./regexp-CcC9eZsJ.js";import"./role-BzOqug3o.js";import"./useResetReactive-3wdC2HLy.js";const g=i({name:"SystemUser",__name:"index",setup(i){n("treeRef");const g=n("AddUserModalRef"),w=n("UserDetailDrawerRef");s("");const j=r({status:"",username:""}),{loading:k,tableData:h,pagination:b,selectedKeys:C,search:U,select:D,selectAll:R,fixed:S}=d((e=>x(e)),{immediate:!0}),A=()=>{j.status="",j.username="",U()},M=()=>{var e;null==(e=g.value)||e.add()};return(i,n)=>{const s=o("icon-plus"),r=o("a-button"),d=o("a-space"),x=o("a-input"),C=o("a-input-group"),D=o("icon-search"),R=o("icon-refresh"),V=o("a-row"),G=o("a-table-column"),z=o("a-link"),I=a,K=e,T=o("icon-edit"),W=o("icon-delete"),Y=o("a-popconfirm"),q=o("a-table"),B=o("a-card");return u(),c(B,{title:"用户管理",class:"gi_page_card"},{default:p((()=>[_(V,{justify:"space-between"},{default:p((()=>[_(d,{wrap:""},{default:p((()=>[_(r,{type:"primary",onClick:M},{icon:p((()=>[_(s)])),default:p((()=>[n[1]||(n[1]=m("span",null,"新增",-1))])),_:1})])),_:1}),_(d,{wrap:""},{default:p((()=>[_(C,null,{default:p((()=>[_(x,{modelValue:f(j).username,"onUpdate:modelValue":n[0]||(n[0]=e=>f(j).username=e),placeholder:"输入用户名搜索","allow-clear":"",style:{"max-width":"250px"}},null,8,["modelValue"])])),_:1}),_(r,{type:"primary",onClick:f(U)},{icon:p((()=>[_(D)])),default:p((()=>[n[2]||(n[2]=m("span",null,"查询",-1))])),_:1},8,["onClick"]),_(r,{onClick:A},{icon:p((()=>[_(R)])),default:p((()=>[n[3]||(n[3]=m("span",null,"重置",-1))])),_:1})])),_:1})])),_:1}),_(q,{class:"gi_table","row-key":"id",loading:f(k),data:f(h),bordered:{cell:!0},scroll:{x:"100%",y:"100%",minWidth:1700},pagination:f(b)},{columns:p((()=>[_(G,{title:"序号",width:64},{cell:p((e=>[v(y(e.rowIndex+1),1)])),_:1}),_(G,{title:"用户名","data-index":"username",width:120},{cell:p((({record:e})=>[_(z,{onClick:a=>{return t=e,void(null==(l=w.value)||l.open(t.id));var t,l}},{default:p((()=>[v(y(e.username),1)])),_:2},1032,["onClick"])])),_:1}),_(G,{title:"昵称","data-index":"nickname",width:150},{cell:p((({record:e})=>[_(I,{avatar:e.avatar,name:e.nickname},null,8,["avatar","name"])])),_:1}),_(G,{title:"状态",width:100,align:"center"},{cell:p((({record:e})=>[_(K,{status:e.status},null,8,["status"])])),_:1}),_(G,{title:"描述",width:200,"data-index":"description",ellipsis:!0,tooltip:!0}),_(G,{title:"创建时间","data-index":"create_time",width:200}),_(G,{title:"操作",width:180,align:"center",fixed:f(S)},{cell:p((({record:e})=>[_(d,null,{default:p((()=>[_(r,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=g.value)||l.edit(t.id));var t,l}},{icon:p((()=>[_(T)])),default:p((()=>[n[4]||(n[4]=m("span",null,"编辑",-1))])),_:2},1032,["onClick"]),_(Y,{type:"warning",content:"确定删除该用户吗?"},{default:p((()=>[_(r,{type:"primary",status:"danger",size:"mini",disabled:e.disabled},{icon:p((()=>[_(W)])),default:p((()=>[n[5]||(n[5]=m("span",null,"删除",-1))])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["loading","data","pagination"]),_(t,{ref_key:"AddUserModalRef",ref:g,onSaveSuccess:f(U)},null,8,["onSaveSuccess"]),_(l,{ref_key:"UserDetailDrawerRef",ref:w},null,512)])),_:1})}}});export{g as default};
